<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1137px" preserveAspectRatio="none" style="width:676px;height:1137px;background:#FFFFFF;" version="1.1" viewBox="0 0 676 1137" width="676px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="210" x="234" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="200" x="239" y="27.9951">Matching All System : 매칭</text><rect fill="#FFFFFF" height="917.8047" style="stroke:#181818;stroke-width:1.0;" width="10" x="171.5" y="128.5938"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="555.5" y="178.8594"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="555.5" y="295.3906"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="627.5" y="237.125"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="627.5" y="453.0547"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="627.5" y="738.7266"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="531.5" x="137.5" y="539.3203"/><rect fill="none" height="262.5391" style="stroke:#000000;stroke-width:1.5;" width="541.5" x="127.5" y="643.5234"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="270" x="137.5" y="782.8594"/><rect fill="none" height="119.3359" style="stroke:#000000;stroke-width:1.5;" width="659" x="10" y="920.0625"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="118.5938" y2="1056.3984"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="176.5" x2="176.5" y1="118.5938" y2="1056.3984"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="560" x2="560" y1="118.5938" y2="1056.3984"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="632" x2="632" y1="118.5938" y2="1056.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="20" y="115.292">Client</text><ellipse cx="42.5" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M42.5,58.7969 L42.5,85.7969 M29.5,66.7969 L55.5,66.7969 M42.5,85.7969 L29.5,100.7969 M42.5,85.7969 L55.5,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="20" y="1068.3936">Client</text><ellipse cx="42.5" cy="1080.1953" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M42.5,1088.1953 L42.5,1115.1953 M29.5,1096.1953 L55.5,1096.1953 M42.5,1115.1953 L29.5,1130.1953 M42.5,1115.1953 L55.5,1130.1953 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="147.5" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="154.5" y="107.292">Server</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="147.5" y="1055.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="154.5" y="1075.3936">Server</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="525" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="532" y="107.292">MariaDB</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="525" y="1055.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="532" y="1075.3936">MariaDB</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="606" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="613" y="107.292">Redis</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="606" y="1055.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="613" y="1075.3936">Redis</text><rect fill="#FFFFFF" height="917.8047" style="stroke:#181818;stroke-width:1.0;" width="10" x="171.5" y="128.5938"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="555.5" y="178.8594"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="555.5" y="295.3906"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="627.5" y="237.125"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="627.5" y="453.0547"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="627.5" y="738.7266"/><polygon fill="#181818" points="159.5,145.7266,169.5,149.7266,159.5,153.7266,163.5,149.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="42.5" x2="165.5" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="49.5" y="144.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="62.5" y="144.6606">회원 시퀀스 전달</text><polygon fill="#181818" points="543.5,174.8594,553.5,178.8594,543.5,182.8594,547.5,178.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="549.5" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="188.5" y="173.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="201.5" y="173.7935">회원 정보 및 SETTING 정보 조회</text><polygon fill="#181818" points="192.5,203.9922,182.5,207.9922,192.5,211.9922,188.5,207.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.5" x2="559.5" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="198.5" y="202.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="211.5" y="202.9263">회원 정보 및 SETTING 정보 전달</text><polygon fill="#181818" points="615.5,233.125,625.5,237.125,615.5,241.125,619.5,237.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="621.5" y1="237.125" y2="237.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="188.5" y="232.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="201.5" y="232.0591">전체 teamList 조회</text><polygon fill="#181818" points="192.5,262.2578,182.5,266.2578,192.5,270.2578,188.5,266.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.5" x2="631.5" y1="266.2578" y2="266.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="198.5" y="261.1919">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="211.5" y="261.1919">전체 teamList 전달</text><polygon fill="#181818" points="543.5,291.3906,553.5,295.3906,543.5,299.3906,547.5,295.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="549.5" y1="295.3906" y2="295.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="188.5" y="290.3247">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="201.5" y="290.3247">RANK 테이블 전체 정보 조회</text><polygon fill="#181818" points="192.5,320.5234,182.5,324.5234,192.5,328.5234,188.5,324.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.5" x2="559.5" y1="324.5234" y2="324.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="198.5" y="319.4575">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159" x="211.5" y="319.4575">RANK 테이블 전체 정보 전달</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="181.5" x2="223.5" y1="368.7891" y2="368.7891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="223.5" x2="223.5" y1="368.7891" y2="381.7891"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="182.5" x2="223.5" y1="381.7891" y2="381.7891"/><polygon fill="#181818" points="192.5,377.7891,182.5,381.7891,192.5,385.7891,188.5,381.7891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="188.5" y="356.1567">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="201.5" y="348.5903">RANK 전체 정보에서</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="205.5" y="363.7231">회원 RANK의 레벨에 맞는 RANK LIST 생성</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="181.5" x2="223.5" y1="410.9219" y2="410.9219"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="223.5" x2="223.5" y1="410.9219" y2="423.9219"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="182.5" x2="223.5" y1="423.9219" y2="423.9219"/><polygon fill="#181818" points="192.5,419.9219,182.5,423.9219,192.5,427.9219,188.5,423.9219" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="188.5" y="405.856">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="347" x="201.5" y="405.856">RANK LIST에서 회원의 MMR 범위와 일치하는 MMR LIST 생성</text><polygon fill="#181818" points="615.5,449.0547,625.5,453.0547,615.5,457.0547,619.5,453.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="621.5" y1="453.0547" y2="453.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="447.9888">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="210.5" y="447.9888">position 정보 조회</text><polygon fill="#181818" points="192.5,478.1875,182.5,482.1875,192.5,486.1875,188.5,482.1875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.5" x2="631.5" y1="482.1875" y2="482.1875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="198.5" y="477.1216">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="220.5" y="477.1216">position 정보 전달</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="181.5" x2="223.5" y1="511.3203" y2="511.3203"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="223.5" x2="223.5" y1="511.3203" y2="524.3203"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="182.5" x2="223.5" y1="524.3203" y2="524.3203"/><polygon fill="#181818" points="192.5,520.3203,182.5,524.3203,192.5,528.3203,188.5,524.3203" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="506.2544">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="237" x="210.5" y="506.2544">회원의 position 일치하는 TEAM 정보 생성</text><path d="M137.5,539.3203 L201.5,539.3203 L201.5,546.4531 L191.5,556.4531 L137.5,556.4531 L137.5,539.3203 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="531.5" x="137.5" y="539.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="152.5" y="552.3872">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="122" x="216.5" y="551.5308">[일치하는 팀이 있는 경우]</text><polygon fill="#181818" points="620.5,573.5859,630.5,577.5859,620.5,581.5859,624.5,577.5859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="626.5" y1="577.5859" y2="577.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="572.52">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="210.5" y="572.52">해당 팀에 회원 정보 추가</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="137.5" x2="669" y1="586.5859" y2="586.5859"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="122" x="142.5" y="596.7964">[일치하는 팀이 없는 경우]</text><polygon fill="#181818" points="620.5,617.5234,630.5,621.5234,620.5,625.5234,624.5,621.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="626.5" y1="621.5234" y2="621.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="616.4575">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="210.5" y="616.4575">새로운 팀 생성해서 회원 정보 추가</text><path d="M127.5,643.5234 L191.5,643.5234 L191.5,650.6563 L181.5,660.6563 L127.5,660.6563 L127.5,643.5234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="262.5391" style="stroke:#000000;stroke-width:1.5;" width="541.5" x="127.5" y="643.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="142.5" y="656.5903">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="144" x="206.5" y="655.7339">[매칭 시간이 1시간 넘은 경우]</text><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="223.5" y1="681.7891" y2="681.7891"/><line style="stroke:#181818;stroke-width:1.0;" x1="223.5" x2="223.5" y1="681.7891" y2="694.7891"/><line style="stroke:#181818;stroke-width:1.0;" x1="182.5" x2="223.5" y1="694.7891" y2="694.7891"/><polygon fill="#181818" points="192.5,690.7891,182.5,694.7891,192.5,698.7891,188.5,694.7891" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="676.7231">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211" x="210.5" y="676.7231">매칭 실패 메세지 "auto_cancel" 생성</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="127.5" x2="669" y1="703.7891" y2="703.7891"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="178" x="132.5" y="713.9995">[매칭 시간이 1시간이 넘지 않은 경우]</text><polygon fill="#181818" points="615.5,734.7266,625.5,738.7266,615.5,742.7266,619.5,738.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="621.5" y1="738.7266" y2="738.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="733.6606">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="210.5" y="733.6606">match 회원 팀 정보 조회</text><polygon fill="#181818" points="192.5,763.8594,182.5,767.8594,192.5,771.8594,188.5,767.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.5" x2="631.5" y1="767.8594" y2="767.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="198.5" y="762.7935">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="220.5" y="762.7935">match 회원 팀 정보 전달</text><path d="M137.5,782.8594 L201.5,782.8594 L201.5,789.9922 L191.5,799.9922 L137.5,799.9922 L137.5,782.8594 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="116.2031" style="stroke:#000000;stroke-width:1.5;" width="270" x="137.5" y="782.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="152.5" y="795.9263">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="152" x="216.5" y="795.0698">[회원이 매칭을 중도 취소한경우]</text><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="223.5" y1="821.125" y2="821.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="223.5" x2="223.5" y1="821.125" y2="834.125"/><line style="stroke:#181818;stroke-width:1.0;" x1="182.5" x2="223.5" y1="834.125" y2="834.125"/><polygon fill="#181818" points="192.5,830.125,182.5,834.125,192.5,838.125,188.5,834.125" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="816.0591">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="210.5" y="816.0591">매칭 취소 메세지 "cancel" 생성</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="137.5" x2="407.5" y1="843.125" y2="843.125"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="92" x="142.5" y="853.3354">[정원이 다 찬 경우]</text><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="223.5" y1="878.0625" y2="878.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="223.5" x2="223.5" y1="878.0625" y2="891.0625"/><line style="stroke:#181818;stroke-width:1.0;" x1="182.5" x2="223.5" y1="891.0625" y2="891.0625"/><polygon fill="#181818" points="192.5,887.0625,182.5,891.0625,192.5,895.0625,188.5,891.0625" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="872.9966">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="185" x="210.5" y="872.9966">매칭 성공 메세지 "success" 생성</text><path d="M10,920.0625 L74,920.0625 L74,927.1953 L64,937.1953 L10,937.1953 L10,920.0625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="119.3359" style="stroke:#000000;stroke-width:1.5;" width="659" x="10" y="920.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="933.1294">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="155" x="89" y="932.2729">[메세지가 "success" 일 경우]</text><polygon fill="#181818" points="620.5,954.3281,630.5,958.3281,620.5,962.3281,624.5,958.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="626.5" y1="958.3281" y2="958.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="953.2622">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="210.5" y="953.2622">acceptTime에 동의 시간 추가</text><polygon fill="#181818" points="53.5,983.4609,43.5,987.4609,53.5,991.4609,49.5,987.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="47.5" x2="170.5" y1="987.4609" y2="987.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="59.5" y="982.395">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="81.5" y="982.395">메세지 전달</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="669" y1="996.4609" y2="996.4609"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="165" x="15" y="1006.6714">[메세지가 "success" 아닐 경우]</text><polygon fill="#181818" points="53.5,1027.3984,43.5,1031.3984,53.5,1035.3984,49.5,1031.3984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="47.5" x2="170.5" y1="1031.3984" y2="1031.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="59.5" y="1026.3325">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="81.5" y="1026.3325">메세지 전달</text><!--MD5=[4033b03afedcb0f23bc64c72dd7f752b]
@startuml
autonumber

title Matching All System : 매칭
actor Client

activate Server
Client -> Server : 회원 시퀀스 전달

Server -> MariaDB : 회원 정보 및 SETTING 정보 조회

activate MariaDB
MariaDB -> Server : 회원 정보 및 SETTING 정보 전달
deactivate MariaDB

Server -> Redis : 전체 teamList 조회

activate Redis
Redis -> Server : 전체 teamList 전달
deactivate Redis

Server -> MariaDB : RANK 테이블 전체 정보 조회
activate MariaDB
MariaDB -> Server : RANK 테이블 전체 정보 전달
deactivate MariaDB

Server - -> Server : RANK 전체 정보에서\n 회원 RANK의 레벨에 맞는 RANK LIST 생성

Server - -> Server : RANK LIST에서 회원의 MMR 범위와 일치하는 MMR LIST 생성

Server -> Redis : position 정보 조회
activate Redis
Redis -> Server : position 정보 전달
deactivate Redis

Server - -> Server : 회원의 position 일치하는 TEAM 정보 생성

alt 일치하는 팀이 있는 경우
Server -> Redis : 해당 팀에 회원 정보 추가
else 일치하는 팀이 없는 경우
Server -> Redis : 새로운 팀 생성해서 회원 정보 추가
end

alt 매칭 시간이 1시간 넘은 경우
  Server -> Server : 매칭 실패 메세지 "auto_cancel" 생성

else 매칭 시간이 1시간이 넘지 않은 경우
  Server -> Redis : match 회원 팀 정보 조회
  activate Redis
  Redis -> Server : match 회원 팀 정보 전달
  deactivate Redis

    alt 회원이 매칭을 중도 취소한경우 
      Server -> Server : 매칭 취소 메세지 "cancel" 생성
  
    else 정원이 다 찬 경우
      Server -> Server : 매칭 성공 메세지 "success" 생성 
    end
end

alt 메세지가 "success" 일 경우
  Server -> Redis : acceptTime에 동의 시간 추가
  Server -> Client : 메세지 전달
else 메세지가 "success" 아닐 경우
  Server -> Client : 메세지 전달
end
deactivate Server
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>