<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="975px" preserveAspectRatio="none" style="width:647px;height:975px;background:#FFFFFF;" version="1.1" viewBox="0 0 647 975" width="647px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="217" x="216.5" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="207" x="221.5" y="27.9951">Matching System : 매칭 수락</text><rect fill="#FFFFFF" height="747.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="171.5" y="128.5938"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="400.5" y="178.8594"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="472.5" y="237.125"/><rect fill="#FFFFFF" height="150.3359" style="stroke:#181818;stroke-width:1.0;" width="10" x="557.5" y="348.6563"/><rect fill="none" height="210.7344" style="stroke:#000000;stroke-width:1.5;" width="523.5" x="117.5" y="281.2578"/><rect fill="none" height="121.3359" style="stroke:#000000;stroke-width:1.5;" width="503.5" x="127.5" y="363.6563"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="483.5" x="137.5" y="387.7891"/><rect fill="none" height="342.2656" style="stroke:#000000;stroke-width:1.5;" width="534" x="10" y="505.9922"/><rect fill="none" height="225.0625" style="stroke:#000000;stroke-width:1.5;" width="416.5" x="117.5" y="574.0625"/><rect fill="none" height="106.5313" style="stroke:#000000;stroke-width:1.5;" width="396.5" x="127.5" y="656.4609"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="376.5" x="137.5" y="680.5938"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="42" x2="42" y1="118.5938" y2="894.3906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="176.5" x2="176.5" y1="118.5938" y2="894.3906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="405" x2="405" y1="118.5938" y2="894.3906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="477" x2="477" y1="118.5938" y2="894.3906"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="562" x2="562" y1="118.5938" y2="894.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="20" y="115.292">Client</text><ellipse cx="42.5" cy="50.7969" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M42.5,58.7969 L42.5,85.7969 M29.5,66.7969 L55.5,66.7969 M42.5,85.7969 L29.5,100.7969 M42.5,85.7969 L55.5,100.7969 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="20" y="906.3857">Client</text><ellipse cx="42.5" cy="918.1875" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M42.5,926.1875 L42.5,953.1875 M29.5,934.1875 L55.5,934.1875 M42.5,953.1875 L29.5,968.1875 M42.5,953.1875 L55.5,968.1875 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="147.5" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="154.5" y="107.292">Server</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="58" x="147.5" y="893.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="44" x="154.5" y="913.3857">Server</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="370" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="377" y="107.292">MariaDB</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="71" x="370" y="893.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="377" y="913.3857">MariaDB</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="451" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="458" y="107.292">Redis</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="53" x="451" y="893.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="458" y="913.3857">Redis</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="514" y="87.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="521" y="107.292">TeamCheck</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97" x="514" y="893.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="521" y="913.3857">TeamCheck</text><rect fill="#FFFFFF" height="747.7969" style="stroke:#181818;stroke-width:1.0;" width="10" x="171.5" y="128.5938"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="400.5" y="178.8594"/><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1.0;" width="10" x="472.5" y="237.125"/><rect fill="#FFFFFF" height="150.3359" style="stroke:#181818;stroke-width:1.0;" width="10" x="557.5" y="348.6563"/><polygon fill="#181818" points="159.5,145.7266,169.5,149.7266,159.5,153.7266,163.5,149.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="42.5" x2="165.5" y1="149.7266" y2="149.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="49.5" y="144.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92" x="62.5" y="144.6606">회원 시퀀스 전달</text><polygon fill="#181818" points="388.5,174.8594,398.5,178.8594,388.5,182.8594,392.5,178.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="394.5" y1="178.8594" y2="178.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="188.5" y="173.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="201.5" y="173.7935">회원 정보 및 SETTING 정보 조회</text><polygon fill="#181818" points="192.5,203.9922,182.5,207.9922,192.5,211.9922,188.5,207.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.5" x2="404.5" y1="207.9922" y2="207.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="198.5" y="202.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="211.5" y="202.9263">회원 정보 및 SETTING 정보 전달</text><polygon fill="#181818" points="460.5,233.125,470.5,237.125,460.5,241.125,464.5,237.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="466.5" y1="237.125" y2="237.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="188.5" y="232.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="201.5" y="232.0591">회원 정보 및 acceptTime 팀 수락 시간 조회</text><polygon fill="#181818" points="192.5,262.2578,182.5,266.2578,192.5,270.2578,188.5,266.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.5" x2="476.5" y1="266.2578" y2="266.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="198.5" y="261.1919">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230" x="211.5" y="261.1919">회원 정보 및 acceptTime 수락 시간 전달</text><path d="M117.5,281.2578 L187.5,281.2578 L187.5,288.3906 L177.5,298.3906 L117.5,298.3906 L117.5,281.2578 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="210.7344" style="stroke:#000000;stroke-width:1.5;" width="523.5" x="117.5" y="281.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="132.5" y="294.3247">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="107" x="202.5" y="293.4683">[수락시간 &gt; 현재시간]</text><polygon fill="#181818" points="465.5,315.5234,475.5,319.5234,465.5,323.5234,469.5,319.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="471.5" y1="319.5234" y2="319.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="188.5" y="314.4575">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179" x="201.5" y="314.4575">accept에 수락한 회원 정보 추가</text><polygon fill="#181818" points="545.5,344.6563,555.5,348.6563,545.5,352.6563,549.5,348.6563" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="551.5" y1="348.6563" y2="348.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="188.5" y="343.5903">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158" x="201.5" y="343.5903">acceptTime 수락 시간 전달</text><path d="M127.5,363.6563 L204.5,363.6563 L204.5,370.7891 L194.5,380.7891 L127.5,380.7891 L127.5,363.6563 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="121.3359" style="stroke:#000000;stroke-width:1.5;" width="503.5" x="127.5" y="363.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="142.5" y="376.7231">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="205" x="219.5" y="375.8667">[수락 시간 &gt; 현재시간 || 메세지 없을 경우]</text><path d="M137.5,387.7891 L201.5,387.7891 L201.5,394.9219 L191.5,404.9219 L137.5,404.9219 L137.5,387.7891 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="90.2031" style="stroke:#000000;stroke-width:1.5;" width="483.5" x="137.5" y="387.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="152.5" y="400.856">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="111" x="216.5" y="399.9995">[수락 시간 &lt; 현재시간]</text><polygon fill="#181818" points="192.5,422.0547,182.5,426.0547,192.5,430.0547,188.5,426.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.5" x2="556.5" y1="426.0547" y2="426.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="198.5" y="420.9888">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="211.5" y="420.9888">반복문 탈출</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="137.5" x2="621" y1="435.0547" y2="435.0547"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="183" x="142.5" y="445.2651">[accept에 수락한 정원이 다 찬 경우]</text><polygon fill="#181818" points="192.5,465.9922,182.5,469.9922,192.5,473.9922,188.5,469.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.5" x2="556.5" y1="469.9922" y2="469.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="198.5" y="464.9263">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="211.5" y="464.9263">"success" 메세지 생성 및 팀 나눈 후 반복문 탈출</text><path d="M10,505.9922 L74,505.9922 L74,513.125 L64,523.125 L10,523.125 L10,505.9922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="342.2656" style="stroke:#000000;stroke-width:1.5;" width="534" x="10" y="505.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="25" y="519.0591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="155" x="89" y="518.2026">[메세지가 "success" 일 경우]</text><polygon fill="#181818" points="53.5,540.2578,43.5,544.2578,53.5,548.2578,49.5,544.2578" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="47.5" x2="170.5" y1="544.2578" y2="544.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="59.5" y="539.1919">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="81.5" y="539.1919">메세지 전달</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="10" x2="544" y1="553.2578" y2="553.2578"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="165" x="15" y="563.4683">[메세지가 "success" 아닐 경우]</text><path d="M117.5,574.0625 L187.5,574.0625 L187.5,581.1953 L177.5,591.1953 L117.5,591.1953 L117.5,574.0625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="225.0625" style="stroke:#000000;stroke-width:1.5;" width="416.5" x="117.5" y="574.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="132.5" y="587.1294">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="142" x="202.5" y="586.2729">[마지막에 수락한 회원일 경우]</text><polygon fill="#181818" points="465.5,608.3281,475.5,612.3281,465.5,616.3281,469.5,612.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="471.5" y1="612.3281" y2="612.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="607.2622">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="210.5" y="607.2622">match에 해당 팀 정보 요청</text><polygon fill="#181818" points="192.5,637.4609,182.5,641.4609,192.5,645.4609,188.5,641.4609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="186.5" x2="476.5" y1="641.4609" y2="641.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="198.5" y="636.395">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="153" x="220.5" y="636.395">match에 해당 팀 정보 전달</text><path d="M127.5,656.4609 L204.5,656.4609 L204.5,663.5938 L194.5,673.5938 L127.5,673.5938 L127.5,656.4609 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="106.5313" style="stroke:#000000;stroke-width:1.5;" width="396.5" x="127.5" y="656.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="32" x="142.5" y="669.5278">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="119" x="219.5" y="668.6714">[N &lt; match에 사이즈]</text><path d="M137.5,680.5938 L207.5,680.5938 L207.5,687.7266 L197.5,697.7266 L137.5,697.7266 L137.5,680.5938 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="75.3984" style="stroke:#000000;stroke-width:1.5;" width="376.5" x="137.5" y="680.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="25" x="152.5" y="693.6606">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="242" x="222.5" y="692.8042">[match에 있지만 accept에는 없는 회원일 경우]</text><polygon fill="#181818" points="465.5,714.8594,475.5,718.8594,465.5,722.8594,469.5,718.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="471.5" y1="718.8594" y2="718.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="713.7935">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174" x="210.5" y="713.7935">position에 해당 회원 정보 삭제</text><polygon fill="#181818" points="465.5,743.9922,475.5,747.9922,465.5,751.9922,469.5,747.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="471.5" y1="747.9922" y2="747.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="742.9263">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="241" x="210.5" y="742.9263">match 및 matchAll에 해당 회원 정보 삭제</text><polygon fill="#181818" points="465.5,787.125,475.5,791.125,465.5,795.125,469.5,791.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="181.5" x2="471.5" y1="791.125" y2="791.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="786.0591">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="249" x="210.5" y="786.0591">accept 및 acceptTime에 해당 팀 정보 삭제</text><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="181.5" x2="223.5" y1="827.2578" y2="827.2578"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="223.5" x2="223.5" y1="827.2578" y2="840.2578"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="182.5" x2="223.5" y1="840.2578" y2="840.2578"/><polygon fill="#181818" points="192.5,836.2578,182.5,840.2578,192.5,844.2578,188.5,840.2578" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="188.5" y="822.1919">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="210.5" y="822.1919">fail 메세지 생성</text><polygon fill="#181818" points="53.5,872.3906,43.5,876.3906,53.5,880.3906,49.5,876.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="47.5" x2="175.5" y1="876.3906" y2="876.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="59.5" y="871.3247">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="81.5" y="871.3247">메세지 전달</text><!--MD5=[4dafb992c2b004a8f76592c76f4463d2]
@startuml
autonumber

title Matching System : 매칭 수락
actor Client

activate Server
Client -> Server : 회원 시퀀스 전달

Server -> MariaDB : 회원 정보 및 SETTING 정보 조회

activate MariaDB
MariaDB -> Server : 회원 정보 및 SETTING 정보 전달
deactivate MariaDB

Server -> Redis : 회원 정보 및 acceptTime 팀 수락 시간 조회

activate Redis
Redis -> Server : 회원 정보 및 acceptTime 수락 시간 전달
deactivate Redis

opt 수락시간 > 현재시간
Server -> Redis : accept에 수락한 회원 정보 추가

Server -> TeamCheck : acceptTime 수락 시간 전달

  activate TeamCheck
  loop 수락 시간 > 현재시간 || 메세지 없을 경우
    alt 수락 시간 < 현재시간
    TeamCheck -> Server : 반복문 탈출

    else accept에 수락한 정원이 다 찬 경우
    TeamCheck -> Server : "success" 메세지 생성 및 팀 나눈 후 반복문 탈출
    end
  end
end
deactivate TeamCheck

alt 메세지가 "success" 일 경우
Server -> Client : 메세지 전달
else 메세지가 "success" 아닐 경우
  opt 마지막에 수락한 회원일 경우
  Server -> Redis : match에 해당 팀 정보 요청
  Redis -> Server : match에 해당 팀 정보 전달
    loop N < match에 사이즈
      opt match에 있지만 accept에는 없는 회원일 경우
        'opt SETTING TYPE가 position이거나 all일 경우
          Server -> Redis : position에 해당 회원 정보 삭제
        'end
        Server -> Redis : match 및 matchAll에 해당 회원 정보 삭제
      end
    end
  Server -> Redis : accept 및 acceptTime에 해당 팀 정보 삭제
  end
  Server - -> Server : fail 메세지 생성
end

Server -> Client : 메세지 전달
deactivate Server
@enduml

@startuml
autonumber

title Matching System : 매칭 수락
actor Client

activate Server
Client -> Server : 회원 시퀀스 전달

Server -> MariaDB : 회원 정보 및 SETTING 정보 조회

activate MariaDB
MariaDB -> Server : 회원 정보 및 SETTING 정보 전달
deactivate MariaDB

Server -> Redis : 회원 정보 및 acceptTime 팀 수락 시간 조회

activate Redis
Redis -> Server : 회원 정보 및 acceptTime 수락 시간 전달
deactivate Redis

opt 수락시간 > 현재시간
Server -> Redis : accept에 수락한 회원 정보 추가

Server -> TeamCheck : acceptTime 수락 시간 전달

  activate TeamCheck
  loop 수락 시간 > 현재시간 || 메세지 없을 경우
    alt 수락 시간 < 현재시간
    TeamCheck -> Server : 반복문 탈출

    else accept에 수락한 정원이 다 찬 경우
    TeamCheck -> Server : "success" 메세지 생성 및 팀 나눈 후 반복문 탈출
    end
  end
end
deactivate TeamCheck

alt 메세지가 "success" 일 경우
Server -> Client : 메세지 전달
else 메세지가 "success" 아닐 경우
  opt 마지막에 수락한 회원일 경우
  Server -> Redis : match에 해당 팀 정보 요청
  Redis -> Server : match에 해당 팀 정보 전달
    loop N < match에 사이즈
      opt match에 있지만 accept에는 없는 회원일 경우
          Server -> Redis : position에 해당 회원 정보 삭제
        Server -> Redis : match 및 matchAll에 해당 회원 정보 삭제
      end
    end
  Server -> Redis : accept 및 acceptTime에 해당 팀 정보 삭제
  end
  Server - -> Server : fail 메세지 생성
end

Server -> Client : 메세지 전달
deactivate Server
@enduml

PlantUML version 1.2022.7(Mon Aug 22 17:01:30 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>